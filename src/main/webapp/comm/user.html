<!DOCTYPE html>
<html lang="en"
      xmlns:v-on="http://www.w3.org/1999/xhtml"
>
<head>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script defer src="/js/customer.js"></script>
    <meta charset="UTF-8">
    <title>Ajouter un client chez ACME</title>
</head>
<body>
<div id="customerApp">
    <div class="customer-list">
        <div>
            <button v-on:click="create = true; modify = false; resetValues()">
                Ajouter un nouveau client
            </button>
        </div>
        <div v-for="customer in users">
            <div>
                {{ customer.id + " : " }}
                <a href="#" v-on:click="newUser = Object(customer);
                                        modify = true; create = false; select = false">{{ customer.firstName + " " + customer.lastName }}</a>
            </div>
        </div>
        <div>
            <button v-on:click="create = true; modify = false; resetValues()">Ajouter un nouveau client</button>
        </div>
    </div>
    <div class="article-form" v-if="create || modify">
        <div id="client-basics">
            <h1>Informations du client :</h1>
            <label for="nom">Nom:</label><input id="nom" size="45" type="text" v-model="newUser.firstName"><br>
            <label for="prénom">Prénom :</label><input id="prénom" type="text" v-model="newUser.lastName"><br>
            <label for="contact">N° tel :</label><input id="contact" type="text" v-model="newUser.phone"><br>
            <label for="email">email :</label><input id="email" type="text" v-model="newUser.email"><br>
        </div>
        <div id="client-address">
            <h2>Addresse complète :</h2> <br>
            <label for="country">pays :</label><input id="country" type="text" v-model="newUser.address.country"><br>
            <label for="city">ville :</label><input id="city" type="text" v-model="newUser.address.city">
            <label for="postal">Code Postal :</label><input id="postal" type="number" v-model="newUser.address.postalCode">
            <table>
                <thead>
                <tr>
                    <th><label for="way-number">Numéro de voie</label></th>
                    <th><label for="streetType">type de rue</label></th>
                    <th><label for="address">addresse</label></th>
                </tr>
                <tr>
                    <td><input id="way-number" type="number" v-model="newUser.address.wayNumber"></td>
                    <td><input id="streetType" type="text" v-model="newUser.address.wayType"></td>
                    <td><input id="address" type="text" v-model="newUser.address.wayName"></td>
                </tr>
                </thead>
            </table>
        </div> <!--client-address END-->
        <div>
            <!--debug : {{newUser}}<br> -->
            <button v-if="create" v-on:click="createCustomer()">Créer le client</button>
            <button v-if="modify" v-on:click="modifyCustomer()">Changer les informations du client</button>
            <br>
        </div>
    </div>
</div>
</body>
</html>